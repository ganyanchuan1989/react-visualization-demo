{"version":3,"sources":["pages/JVLogin/index.js","pages/JVProduct/index.js","common/context.js","common/ItemTypes.js","common/vo.js","components/JVDragColWrapper.jsx","components/drag-factory.js","components/JVInput.jsx","components/JVSelect.jsx","components/JVDateField.jsx","components/JVCheckbox.jsx","components/JVRadio.jsx","components/JVInputNumber.jsx","components/JVButton.jsx","components/JVTable.jsx","components/JVTab.jsx","components/JVModal.jsx","components/Charts/JVPieChart/PieChart.jsx","components/Charts/JVPieChart/index.js","components/Charts/JVPolylineChart/PolylineChart.jsx","components/Charts/JVPolylineChart/index.js","components/DefaultContainer/index.js","pages/JVEdit/JVMain/index.js","components/JVToolTab/index.js","components/JVToolTab/JVToolTabPane.jsx","pages/JVEdit/JVLeftTool/Outline.jsx","pages/JVEdit/JVLeftTool/JVCompTool/ToolsContainer.jsx","pages/JVEdit/JVLeftTool/JVCompTool/JVContainerTools.jsx","pages/JVEdit/JVLeftTool/JVCompTool/JVComponentTools.jsx","pages/JVEdit/JVLeftTool/JVCompTool/JVChartTools.jsx","pages/JVEdit/JVLeftTool/JVCompTool/index.js","pages/JVEdit/JVLeftTool/index.js","pages/JVEdit/JVRightTool/JVAttTools.jsx","pages/JVEdit/JVRightTool/index.js","pages/JVEdit/index.js","App.js","serviceWorker.js","index.js"],"names":["React","memo","className","Item","style","height","type","width","AppContext","createContext","appId","pages","selectPage","selectTab","setSelectTab","PageContext","pageId","pageTitle","vos","setVos","selectedVo","setSelectedVo","changeVoAttValue","updateVo","INPUT","RADIO","BUTTON","TABLE","TAB","SORT_ACCEPT","ACCEPT_ALL","fieldCount","pageCount","modalCount","tabCount","VO","id","this","uuidv4","AppVO","PageVO","title","DefaultContainerVO","accept","column","comps","FormVo","name","label","span","rules","placeholder","required","message","InputVO","SelectVO","options","RadioVO","CheckboxVO","DateFieldVO","formatString","InputNumberVO","ButtonVO","TableVO","columns","obj","i","field","push","dataIndex","key","dataSource","TabPaneVO","dvo","TabVO","tabs","ModalVO","dVo","visible","PieChartVo","PolyLineChartVo","vo","moveVo","findVo","children","useContext","useDrag","item","collect","monitor","isDragging","drag","useDrop","canDrop","hover","draggedId","overIndex","index","opacity","background","useDragFactory","drop","handleClick","e","childrenWithProps","Children","map","child","cloneElement","ref","node","FormInput","onClick","readOnly","JVDragColWrapper","Option","Select","FormSelect","option","value","FormDatePicker","FormCheckBox","Group","FormRaido","FormInputNumber","FormButton","htmlType","FormTable","TabPane","Tabs","FormTab","tabPanes","tabPaneVo","tab","activeKey","filter","length","target","getAttribute","indexOf","onTabClick","mask","pointerEvents","onOk","onCancel","JVPieChart","text","data","DataView","DataSet","dv","source","transform","dimension","as","userDv","padding","autoFit","rows","shared","showTitle","innerRadius","position","adjust","color","stroke","lineWidth","tooltip","Text","content","lineHeight","fontSize","fill","textAlign","val","offset","fontWeight","size","scale","percent","formatter","toFixed","Component","FormPolylineChart","PieChart","month","city","temperature","PolylineChart","min","shape","DefaultContainer","findVoParent","moveVoParent","useState","isMouseOver","setIsMouseOver","dropHandle","gVo","generateVO","update","$push","connectDrag","didDrop","isTools","getItem","isDragOver","isOver","shallow","connectDrop","atIndex","findChildVo","cvo","$splice","voComps","JVInput","JVSelect","JVRadio","JVCheckbox","JVDateField","JVPolylineChart","JVInputNumber","JVButton","JVTable","JVTab","JVModal","useRef","onMouseMove","faComponent","findDOMNode","current","onMouseOut","border","backgroundColor","vo2Comps","onFinish","onFinishFailed","overflow","defaultTabId","selectTabId","setSelectedTabId","ToolLi","forEach","props","icon","changeSelectTab","newTabVisible","setNewTabVisible","newTabTitle","setNewTabTitle","rootData","page","pageNode","uVo","tabNode","tabVo","tabChildNode","recursiveTabNode","treeData","treeSelectHandle","selectedKeys","showLine","blockNode","defaultExpandAll","switcherIcon","DownOutlined","titleRender","display","justifyContent","alignItems","flex","PlusOutlined","pVo","onChange","DragLi","tool","itemType","Icon","ExpandOutlined","toolsComp","tools","TOOLS_DATA","ToolsContainer","PieChartOutlined","LineChartOutlined","Panel","Collapse","defaultActiveKey","header","JVContainerTools","JVComponentTools","JVChartTools","JVToolTabPane","PicRightOutlined","Outline","AppstoreAddOutlined","FILTER_ATT","attComps","fKey","attChangeAtt","SettingOutlined","JVAttTools","initVos","vo_id_map","recursiveUpdateVo","hasOwnProperty","Provider","newVo","Object","assign","pageName","appVo","dVo1","pVo1","dVo2","pVo2","mockData","defaultSelectPage","setSelectPage","selectPageCom","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","DndProvider","backend","HTML5Backend","path","component","JVLogin","JVProduct","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console"],"mappings":"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","file":"static/js/main.d3ba8b61.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./index.less\";\r\nimport { Form, Input, Button } from \"antd\";\r\n\r\nexport default React.memo(() => {\r\n  return (\r\n    <div className=\"login-container\">\r\n      <div className=\"login-main-container\">\r\n        {/* <img\r\n          src={require(\"@/assets/bg.png\")}\r\n          style={{ width: \"100%\", objectFit: \"contain\" }}\r\n        /> */}\r\n        <div className=\"login-form-container\">\r\n          <div className=\"login-form\" >\r\n            <div className=\"login-logo\">\r\n              交通银行业务原型设计平台\r\n            </div>\r\n            <Form>\r\n              <Form.Item>\r\n                <Input style={{height: '45px'}}/>\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Input style={{height: '45px'}}/>\r\n              </Form.Item>\r\n              <Form.Item>\r\n                <Button type=\"primary\" style={{width:'100%', height: '45px'}}>登录</Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react'\r\n\r\nexport default React.memo(()=> {\r\n  return (\r\n    <div>\r\n      产品中心\r\n    </div>\r\n  )\r\n});\r\n","import React from \"react\";\r\n\r\n/**\r\n * App 级Context\r\n */\r\nexport const AppContext = React.createContext({\r\n  appId: \"\",\r\n  pages: [],\r\n  selectPage: {}, // 选中页面\r\n  selectTab: {}, // 选中得页签，当选择页面时和selectPage相等\r\n  setSelectTab: () => {},\r\n});\r\n\r\n/**\r\n * Page 级Context\r\n */\r\nexport const PageContext = React.createContext({\r\n  pageId: \"\",\r\n  pageTitle: \"\",\r\n  vos: [], // 当前vo数据\r\n  setVos: () => {},\r\n  selectedVo: {}, // 当前选中vo\r\n  setSelectedVo: () => {}, // 设置选中vo\r\n  changeVoAttValue: () => {}, // 修改vo属性\r\n  updateVo: () => {},\r\n});\r\n","// container\r\nexport const DEFAULT_CONTAINER = \"defaultContainer\";\r\n\r\n// component\r\nexport const INPUT = \"input\";\r\nexport const SELECT = \"select\";\r\nexport const RADIO = \"radio\";\r\nexport const CHECKBOX = \"checkbox\";\r\nexport const DATEFIELD = \"datefield\";\r\nexport const INPUTNUMBER = \"InputNumber\";\r\nexport const BUTTON = \"button\";\r\n\r\nexport const TABLE = \"table\";\r\nexport const TAB = \"tab\";\r\nexport const TABPANE = \"tabpane\";\r\nexport const MODAL = \"modal\";\r\n\r\n// chart\r\nexport const CHART_PIE = \"chart_pie\";\r\nexport const CHART_POLYLINE = \"chart_polyline\";\r\n\r\n//\r\nexport const PAGE = \"page\";\r\nexport const APP = \"app\";\r\n\r\n// 标识哪些组件可以拖拽排序\r\nexport const SORT_ACCEPT = [\r\n  INPUT,\r\n  SELECT,\r\n  RADIO,\r\n  CHECKBOX,\r\n  DATEFIELD,\r\n  INPUTNUMBER,\r\n  BUTTON,\r\n  TABLE,\r\n  CHART_PIE,\r\n  CHART_POLYLINE,\r\n  DEFAULT_CONTAINER,\r\n];\r\n\r\n/**\r\n * 所有DefaultContainer可以接收得类型\r\n */\r\nexport const ACCEPT_ALL = [\r\n  INPUT,\r\n  SELECT,\r\n  RADIO,\r\n  CHECKBOX,\r\n  DATEFIELD,\r\n  CHART_PIE,\r\n  CHART_POLYLINE,\r\n  INPUTNUMBER,\r\n  BUTTON,\r\n  DEFAULT_CONTAINER,\r\n  TABLE,\r\n  TAB,\r\n  MODAL,\r\n];\r\n","import { v4 as uuidv4 } from \"uuid\";\r\nimport {\r\n  DEFAULT_CONTAINER,\r\n  INPUT,\r\n  SELECT,\r\n  CHART_PIE,\r\n  CHART_POLYLINE,\r\n  RADIO,\r\n  CHECKBOX,\r\n  DATEFIELD,\r\n  INPUTNUMBER,\r\n  BUTTON,\r\n  TABLE,\r\n  TAB,\r\n  MODAL,\r\n  APP,\r\n  PAGE,\r\n  TABPANE,\r\n  ACCEPT_ALL,\r\n} from \"./ItemTypes\";\r\n\r\n/**\r\n * 数据结构设计说明\r\n *  AppVo\r\n *    - PageVo\r\n *      - DefaultContainerVO\r\n *        - FormVO\r\n *        - DefaultContainerVO\r\n *\r\n */\r\n\r\nlet fieldCount = 1;\r\nlet pageCount = 1;\r\nlet modalCount = 1;\r\nlet tabCount = 1;\r\n\r\nexport class VO {\r\n  constructor({ id, type }) {\r\n    this.id = id || uuidv4();\r\n    this.type = type;\r\n  }\r\n}\r\n\r\nexport class AppVO {\r\n  constructor({ appId, pages }) {\r\n    this.type = APP;\r\n    this.appId = appId || uuidv4();\r\n    this.pages = pages || []; // PageVO list\r\n  }\r\n}\r\n\r\n/**\r\n * 页面数据VO\r\n *  */\r\nexport class PageVO {\r\n  constructor({ pageId, vos, title }) {\r\n    this.type = PAGE;\r\n    this.pageId = pageId || uuidv4();\r\n    this.vos = vos || [new DefaultContainerVO({accept: ACCEPT_ALL})]; // DefaultContainerVO list\r\n    this.title = title || `页面${pageCount}`;\r\n    pageCount++;\r\n  }\r\n}\r\n\r\nexport class DefaultContainerVO extends VO {\r\n  constructor({ id, column, accept }) {\r\n    super({ id, type: DEFAULT_CONTAINER });\r\n    this.column = column || 1; // 分栏：默认1列\r\n    this.comps = []; // 子组件\r\n    this.accept = accept || [\r\n      INPUT,\r\n      SELECT,\r\n      RADIO,\r\n      CHECKBOX,\r\n      DATEFIELD,\r\n      CHART_PIE,\r\n      CHART_POLYLINE,\r\n      INPUTNUMBER,\r\n      BUTTON,\r\n      DEFAULT_CONTAINER,\r\n      TABLE,\r\n      TAB,\r\n      // MODAL, // 仅第一层可以增加\r\n    ];\r\n  }\r\n}\r\n\r\nexport class FormVo extends VO {\r\n  constructor({ id, type, name, label, span, rules, placeholder }) {\r\n    super({ id, type });\r\n    this.name = name || `field-${fieldCount}`;\r\n    this.label = label || `字段${fieldCount}`;\r\n    this.span = span;\r\n    this.rules = rules || [];\r\n    this.placeholder = placeholder || `请输入${this.label}`;\r\n    this.rules = rules || [{ required: true, message: `请输入${this.label}` }];\r\n    fieldCount++;\r\n  }\r\n}\r\n\r\nexport class InputVO extends FormVo {\r\n  constructor({ id, name, label, span, rules }) {\r\n    super({ id, type: INPUT, name, rules, label, span });\r\n  }\r\n}\r\n\r\nexport class SelectVO extends FormVo {\r\n  constructor({ id, name, label, span, rules }) {\r\n    super({ id, type: SELECT, name, span, label, rules });\r\n    this.options = [\"选项1\", \"选项2\", \"选项3\"];\r\n  }\r\n}\r\n\r\nexport class RadioVO extends FormVo {\r\n  constructor({ id, name, label, span, rules }) {\r\n    super({ id, type: RADIO, name, span, label, rules });\r\n    this.options = [\"选项1\", \"选项2\", \"选项3\"];\r\n  }\r\n}\r\n\r\nexport class CheckboxVO extends FormVo {\r\n  constructor({ id, name, label, span, rules }) {\r\n    super({ id, type: CHECKBOX, name, span, label, rules });\r\n    this.options = [\"选项1\", \"选项2\", \"选项3\"];\r\n  }\r\n}\r\n\r\nexport class DateFieldVO extends FormVo {\r\n  constructor({ id, name, label, span, rules }) {\r\n    super({ id, type: DATEFIELD, name, span, label, rules });\r\n    this.formatString = \"YYYY-MM-DD\";\r\n  }\r\n}\r\n\r\nexport class InputNumberVO extends FormVo {\r\n  constructor({ id, name, label, span, rules }) {\r\n    super({ id, type: INPUTNUMBER, name, span, label, rules });\r\n  }\r\n}\r\n\r\nexport class ButtonVO extends FormVo {\r\n  constructor({ id, label, span }) {\r\n    super({ id, type: BUTTON, span, label: label || \"按钮\" });\r\n  }\r\n}\r\n\r\nexport class TableVO extends FormVo {\r\n  constructor({ id, span }) {\r\n    super({ id, type: TABLE, span });\r\n\r\n    this.columns = [];\r\n    let obj = {};\r\n    for (let i = 0; i < 10; i++) {\r\n      const field = `field${i}`;\r\n      this.columns.push({ title: field, dataIndex: field, key: field });\r\n      obj[field] = field;\r\n    }\r\n    this.dataSource = [obj];\r\n  }\r\n}\r\n\r\nexport class TabPaneVO extends VO {\r\n  constructor({ id, title, dvo }) {\r\n    super({ id, type: TABPANE });\r\n    this.title = title || \"叶子节点\";\r\n    this.dvo = dvo || new DefaultContainerVO({});\r\n  }\r\n}\r\n\r\nexport class TabVO extends FormVo {\r\n  constructor({ id, span, title }) {\r\n    super({ id, type: TAB, span });\r\n    this.tabs = [\r\n      new TabPaneVO({ title: \"子页签2\" }),\r\n      new TabPaneVO({ title: \"子页签1\" }),\r\n    ];\r\n    this.title = title || `页签${tabCount}`; // 左侧Tree显示label\r\n\r\n    tabCount++;\r\n  }\r\n}\r\n\r\nexport class ModalVO extends FormVo {\r\n  constructor({ id, span, width, dVo, visible, title }) {\r\n    super({ id, type: MODAL, span });\r\n    this.dVo = dVo || new DefaultContainerVO({}); // 容器\r\n    this.visible = visible || true;\r\n    this.width = width || 600;\r\n    this.title = title || `弹框${modalCount}`; // 左侧Tree显示label\r\n\r\n    modalCount++;\r\n  }\r\n}\r\n\r\nexport class ChartVO extends VO {\r\n  constructor({ id, type }) {\r\n    super({ id, type });\r\n  }\r\n}\r\n\r\nexport class PieChartVo extends VO {\r\n  constructor({ id }) {\r\n    super({ id, type: CHART_PIE });\r\n  }\r\n}\r\n\r\nexport class PolyLineChartVo extends VO {\r\n  constructor({ id }) {\r\n    super({ id, type: CHART_POLYLINE });\r\n  }\r\n}\r\n\r\nexport const generateVO = (item) => {\r\n  let vo = null;\r\n  const { type, column } = item;\r\n  if (type === DEFAULT_CONTAINER) {\r\n    vo = new DefaultContainerVO({ column: column || 1 });\r\n  } else if (item.type === INPUT) {\r\n    vo = new InputVO({});\r\n  } else if (item.type === SELECT) {\r\n    vo = new SelectVO({});\r\n  } else if (item.type === RADIO) {\r\n    vo = new RadioVO({});\r\n  } else if (item.type === CHECKBOX) {\r\n    vo = new CheckboxVO({});\r\n  } else if (item.type === DATEFIELD) {\r\n    vo = new DateFieldVO({});\r\n  } else if (item.type === CHART_PIE) {\r\n    vo = new PieChartVo({});\r\n  } else if (item.type === CHART_POLYLINE) {\r\n    vo = new PolyLineChartVo({});\r\n  } else if (item.type === INPUTNUMBER) {\r\n    vo = new InputNumberVO({});\r\n  } else if (item.type === BUTTON) {\r\n    vo = new ButtonVO({});\r\n  } else if (item.type === TABLE) {\r\n    vo = new TableVO({});\r\n  } else if (item.type === TAB) {\r\n    vo = new TabVO({});\r\n  } else if (item.type === MODAL) {\r\n    vo = new ModalVO({});\r\n  }\r\n\r\n  return vo;\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { Col } from \"antd\";\r\nimport { PageContext } from \"@/common/context\";\r\nimport { useDragFactory } from \"./drag-factory\";\r\n\r\nexport default React.memo(\r\n  ({ vo, type, column, moveVo, findVo, children }) => {\r\n    const { setSelectedVo } = useContext(PageContext);\r\n    const { id, span } = vo;\r\n    const [{ opacity, background }, drag, drop] = useDragFactory({\r\n      id,\r\n      findVo,\r\n      moveVo,\r\n      type,\r\n      vo,\r\n    });\r\n\r\n    const handleClick = (e) => {\r\n      setSelectedVo(vo);\r\n    };\r\n\r\n    const childrenWithProps =\r\n      children &&\r\n      React.Children.map(children, (child) => {\r\n        return React.cloneElement(child, { vo, handleClick });\r\n      });\r\n\r\n    return (\r\n      <Col\r\n        ref={(node) => drag(drop(node))}\r\n        span={span || 24 / column}\r\n        style={{ opacity, background }}\r\n      >\r\n        {childrenWithProps}\r\n      </Col>\r\n    );\r\n  }\r\n);\r\n","// import React from \"react\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport { SORT_ACCEPT } from \"@/common/ItemTypes\";\r\n\r\nexport function useDragFactory({ id, type, findVo, moveVo }) {\r\n  const [{ isDragging }, drag] = useDrag({\r\n    item: { type, id }, // id, originalIndex\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n  const [, drop] = useDrop({\r\n    accept: SORT_ACCEPT,\r\n    canDrop: () => false, // 禁用drop，只允许drop排序\r\n    hover(item) {\r\n      const draggedId = item.id;\r\n      if (draggedId !== id) {\r\n        const { index: overIndex } = findVo(id);\r\n        moveVo(draggedId, overIndex);\r\n      }\r\n    },\r\n  });\r\n  const opacity = isDragging ? 0.3 : 1;\r\n  const background = isDragging ? \"#fa8c16\" : \"#fff\";\r\n\r\n  return [{ opacity, background, isDragging }, drag, drop];\r\n}\r\n","import React from \"react\";\r\nimport { Form, Input } from \"antd\";\r\nimport { INPUT } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormInput = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name, rules, placeholder } = vo;\r\n  return (\r\n    <Form.Item\r\n      id={id}\r\n      label={label}\r\n      name={name}\r\n      rules={rules}\r\n      onClick={handleClick}\r\n    >\r\n      <Input readOnly placeholder={placeholder} />\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={INPUT}\r\n    >\r\n      <FormInput></FormInput>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Form, Select } from \"antd\";\r\nimport { SELECT } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst FormSelect = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name, rules, options, placeholder } = vo;\r\n  return (\r\n    <Form.Item\r\n      id={id}\r\n      label={label}\r\n      name={name}\r\n      rules={rules}\r\n      onClick={handleClick}\r\n    >\r\n      <Select readOnly placeholder={placeholder}>\r\n        {options &&\r\n          options.map((option) => {\r\n            return (\r\n              <Option key={`s-${option}`} value={option}>\r\n                {option}\r\n              </Option>\r\n            );\r\n          })}\r\n      </Select>\r\n    </Form.Item>\r\n  );\r\n});\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={SELECT}\r\n    >\r\n      <FormSelect></FormSelect>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Form, DatePicker } from \"antd\";\r\nimport { DATEFIELD } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormDatePicker = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name, rules, placeholder } = vo;\r\n  return (\r\n    <Form.Item\r\n      id={id}\r\n      label={label}\r\n      name={name}\r\n      rules={rules}\r\n      onClick={handleClick}\r\n    >\r\n      <DatePicker readOnly placeholder={placeholder}></DatePicker>\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={DATEFIELD}\r\n    >\r\n      <FormDatePicker></FormDatePicker>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Form, Checkbox } from \"antd\";\r\nimport { CHECKBOX } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormCheckBox = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name, rules, options } = vo;\r\n  return (\r\n    <Form.Item\r\n      id={id}\r\n      label={label}\r\n      name={name}\r\n      rules={rules}\r\n      onClick={handleClick}\r\n    >\r\n      <Checkbox.Group options={options} />\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={CHECKBOX}\r\n    >\r\n      <FormCheckBox></FormCheckBox>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Form, Radio } from \"antd\";\r\nimport { RADIO } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormRaido = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name, rules, options } = vo;\r\n  return (\r\n    <Form.Item\r\n      id={id}\r\n      label={label}\r\n      name={name}\r\n      rules={rules}\r\n      onClick={handleClick}\r\n    >\r\n      <Radio.Group readOnly>\r\n        {options &&\r\n          options.map((option) => {\r\n            return <Radio value={option} key={`r-${option}`}>{option}</Radio>;\r\n          })}\r\n      </Radio.Group>\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={RADIO}\r\n    >\r\n      <FormRaido></FormRaido>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n\r\n","import React from \"react\";\r\nimport { Form, InputNumber } from \"antd\";\r\nimport { INPUTNUMBER } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormInputNumber = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name, rules, placeholder } = vo;\r\n  return (\r\n    <Form.Item\r\n      id={id}\r\n      label={label}\r\n      name={name}\r\n      rules={rules}\r\n      onClick={handleClick}\r\n    >\r\n      <InputNumber readOnly placeholder={placeholder}></InputNumber>\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={INPUTNUMBER}\r\n    >\r\n      <FormInputNumber></FormInputNumber>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Form, Button } from \"antd\";\r\nimport { BUTTON } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormButton = React.memo(({ vo, handleClick }) => {\r\n  const { id, label, name } = vo;\r\n  return (\r\n    <Form.Item id={id} name={name} onClick={handleClick}>\r\n      <Button htmlType=\"submit\">{label}</Button>\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper vo={vo} column={column} moveVo={moveVo} findVo={findVo} type={BUTTON}>\r\n      <FormButton></FormButton>\r\n    </JVDragColWrapper>\r\n  );\r\n});","import React from \"react\";\r\nimport { Form, Table } from \"antd\";\r\nimport { TABLE } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\n\r\nconst FormTable = React.memo(({ vo, handleClick }) => {\r\n  const { id, columns, dataSource } = vo;\r\n  return (\r\n    <Form.Item id={id} onClick={handleClick}>\r\n      <Table dataSource={dataSource} columns={columns} />\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={TABLE}\r\n    >\r\n      <FormTable></FormTable>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React, { useContext } from \"react\";\r\n// import { findDOMNode } from \"react-dom\";\r\nimport { Tabs } from \"antd\";\r\nimport { TAB } from \"@/common/ItemTypes\";\r\nimport DefaultContainer from \"./DefaultContainer\";\r\nimport JVDragColWrapper from \"./JVDragColWrapper\";\r\nimport { AppContext } from \"@/common/context\";\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst FormTab = React.memo(({ vo, handleClick }) => {\r\n  const { selectTab, setSelectTab } = useContext(AppContext);\r\n  const { id, tabs } = vo;\r\n\r\n  const tabPanes = tabs.map((tabPaneVo) => {\r\n    const { title, id, dvo } = tabPaneVo;\r\n    return (\r\n      <TabPane tab={title} key={id}>\r\n        <DefaultContainer vo={dvo}></DefaultContainer>\r\n      </TabPane>\r\n    );\r\n  });\r\n\r\n  const mySelfClickHandle = ({ target }) => {\r\n    // const faComponent = findDOMNode(tabRef.current);\r\n    if (target.getAttribute(\"class\").indexOf(\"ant-tabs-nav-wrap\") >= 0) {\r\n      handleClick();\r\n    }\r\n  };\r\n\r\n  const tabClickHandle = (key) => {\r\n    setSelectTab(tabs.filter((tab) => tab.id === key)[0]);\r\n  };\r\n\r\n  const activeKey =\r\n    tabs.filter((tab) => tab.id === selectTab.id).length > 0\r\n      ? selectTab.id\r\n      : tabs[0].id; // 设置默认\r\n\r\n  return (\r\n    <Tabs\r\n      id={id}\r\n      onClick={mySelfClickHandle}\r\n      activeKey={activeKey}\r\n      onTabClick={tabClickHandle}\r\n    >\r\n      {tabPanes}\r\n    </Tabs>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={TAB}\r\n    >\r\n      <FormTab></FormTab>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React, { useContext } from \"react\";\r\nimport { Modal } from \"antd\";\r\nimport DefaultContainer from \"./DefaultContainer\";\r\nimport { AppContext } from \"@/common/context\";\r\n\r\nexport default React.memo(({ vo }) => {\r\n  const { selectTab, setSelectTab } = useContext(AppContext);\r\n  const { dVo, width } = vo;\r\n  const handleOk = (e) => {\r\n    setSelectTab({});\r\n  };\r\n\r\n  const handleCancel = (e) => {\r\n    setSelectTab({});\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={selectTab.id === vo.id}\r\n      title=\"Modal\"\r\n      width={width}\r\n      mask={false}\r\n      style={{ pointerEvents: \"none\" }}\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n    >\r\n      <DefaultContainer vo={dVo}></DefaultContainer>\r\n    </Modal>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport {\r\n  Chart,\r\n  Interval,\r\n  Axis,\r\n  Tooltip,\r\n  Coordinate,\r\n  Legend,\r\n  View,\r\n  Annotation,\r\n} from \"bizcharts\";\r\nimport DataSet from \"@antv/data-set\";\r\n\r\nclass JVPieChart extends React.Component {\r\n  render() {\r\n    const text = [\r\n      \"MIDNIGHT\",\r\n      \"3 AM\",\r\n      \"6 AM\",\r\n      \"9 AM\",\r\n      \"NOON\",\r\n      \"3 PM\",\r\n      \"6 PM\",\r\n      \"9 PM\"\r\n    ];\r\n    const data = [];\r\n\r\n    for (let i = 0; i < 24; i++) {\r\n      const item = {};\r\n      item.type = i + \"\";\r\n      item.value = 10;\r\n      data.push(item);\r\n    }\r\n\r\n    const { DataView } = DataSet;\r\n    const dv = new DataView();\r\n    dv.source(data).transform({\r\n      type: \"percent\",\r\n      field: \"value\",\r\n      dimension: \"type\",\r\n      as: \"percent\"\r\n    });\r\n    const userData = [\r\n      { type: '睡眠', value: 70 },\r\n      { type: '淡茶 & 烟斗 & 冥想', value: 10 },\r\n      { type: '写作', value: 10 },\r\n      { type: '教课', value: 40 },\r\n      { type: '酒吧吃肉配白酒', value: 40 },\r\n      { type: '散步', value: 10 },\r\n      { type: '拜访马大大', value: 30 },\r\n      { type: '阅读', value: 30 },\r\n    ];\r\n    const userDv = new DataView();\r\n    userDv.source(userData).transform({\r\n      type: 'percent',\r\n      field: 'value',\r\n      dimension: 'type',\r\n      as: 'percent',\r\n    });\r\n    \r\n    return (\r\n      <Chart placeholder={false} height={400} padding={50} autoFit>\r\n        <Legend visible={false} />\r\n        {/* 背景图层 */}\r\n        <View data={dv.rows}>\r\n          <Legend visible={false} />\r\n          <Tooltip shared showTitle={false} />\r\n          <Coordinate type=\"theta\" innerRadius={0.9} />\r\n          <Interval\r\n            position=\"percent\"\r\n            adjust=\"stack\"\r\n            color={['type', ['rgba(255, 255, 255, 0)']]}\r\n            style={{\r\n              stroke: '#444',\r\n              lineWidth: 1,\r\n            }}\r\n            tooltip={false}\r\n          />\r\n          <Annotation.Text\r\n            position={['50%', '50%']}\r\n            content=\"24 hours\"\r\n            style={{\r\n              lineHeight: '240px',\r\n              fontSize: '30',\r\n              fill: '#262626',\r\n              textAlign: 'center',\r\n            }}\r\n          />\r\n        </View>\r\n        <View data={data}>\r\n          <Axis visible={false} />\r\n          <Coordinate type=\"polar\" innerRadius={0.9} />\r\n          <Interval\r\n            position=\"type*value\"\r\n            color=\"#444\"\r\n            label={['type', \r\n            (val) => {\r\n              return {\r\n                content: val % 3 === 0 ? text[val / 3] : '',\r\n              };\r\n            }, \r\n            {\r\n              offset: 15,\r\n              style: {\r\n                fontSize: 12,\r\n                fontWeight: 'bold',\r\n                fill: '#bfbfbf',\r\n              },\r\n            }]}\r\n            tooltip={false}\r\n            size={['type', (val) => {\r\n              if (val % 3 === 0) {\r\n                return 4;\r\n              }\r\n              return 1;\r\n            }]}\r\n          />\r\n        </View>\r\n        {/* 绘制图形 */}\r\n        <View data={userDv.rows} scale={{\r\n          percent: {\r\n            formatter: (val) => {\r\n                return (val * 100).toFixed(2) + '%';\r\n              },\r\n          }\r\n        }}>\r\n          <Coordinate type=\"theta\" innerRadius={0.75} />\r\n          <Interval\r\n            position=\"percent\"\r\n            adjust=\"stack\"\r\n            color=\"type\"\r\n            label={['type', {offset: 40}]}\r\n          />\r\n        </View>\r\n      </Chart>\r\n    );\r\n  }\r\n}\r\n\r\nexport default JVPieChart;\r\n","import React from \"react\";\r\nimport { Form } from \"antd\";\r\nimport { BUTTON } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"../../JVDragColWrapper\";\r\nimport PieChart from \"./PieChart\";\r\n\r\nconst FormPolylineChart = React.memo(({ vo, handleClick }) => {\r\n  const { id, name } = vo;\r\n  return (\r\n    <Form.Item id={id} name={name} onClick={handleClick}>\r\n      <PieChart></PieChart>\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={BUTTON}\r\n    >\r\n      <FormPolylineChart></FormPolylineChart>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { Chart, Line, Point } from \"bizcharts\";\r\n\r\n// 数据源\r\nconst data = [\r\n  {\r\n    month: \"Jan\",\r\n    city: \"Tokyo\",\r\n    temperature: 7,\r\n  },\r\n  {\r\n    month: \"Jan\",\r\n    city: \"London\",\r\n    temperature: 3.9,\r\n  },\r\n  {\r\n    month: \"Feb\",\r\n    city: \"Tokyo\",\r\n    temperature: 6.9,\r\n  },\r\n  {\r\n    month: \"Feb\",\r\n    city: \"London\",\r\n    temperature: 4.2,\r\n  },\r\n  {\r\n    month: \"Mar\",\r\n    city: \"Tokyo\",\r\n    temperature: 9.5,\r\n  },\r\n  {\r\n    month: \"Mar\",\r\n    city: \"London\",\r\n    temperature: 5.7,\r\n  },\r\n  {\r\n    month: \"Apr\",\r\n    city: \"Tokyo\",\r\n    temperature: 14.5,\r\n  },\r\n  {\r\n    month: \"Apr\",\r\n    city: \"London\",\r\n    temperature: 8.5,\r\n  },\r\n  {\r\n    month: \"May\",\r\n    city: \"Tokyo\",\r\n    temperature: 18.4,\r\n  },\r\n  {\r\n    month: \"May\",\r\n    city: \"London\",\r\n    temperature: 11.9,\r\n  },\r\n  {\r\n    month: \"Jun\",\r\n    city: \"Tokyo\",\r\n    temperature: 21.5,\r\n  },\r\n  {\r\n    month: \"Jun\",\r\n    city: \"London\",\r\n    temperature: 15.2,\r\n  },\r\n  {\r\n    month: \"Jul\",\r\n    city: \"Tokyo\",\r\n    temperature: 25.2,\r\n  },\r\n  {\r\n    month: \"Jul\",\r\n    city: \"London\",\r\n    temperature: 17,\r\n  },\r\n  {\r\n    month: \"Aug\",\r\n    city: \"Tokyo\",\r\n    temperature: 26.5,\r\n  },\r\n  {\r\n    month: \"Aug\",\r\n    city: \"London\",\r\n    temperature: 16.6,\r\n  },\r\n  {\r\n    month: \"Sep\",\r\n    city: \"Tokyo\",\r\n    temperature: 23.3,\r\n  },\r\n  {\r\n    month: \"Sep\",\r\n    city: \"London\",\r\n    temperature: 14.2,\r\n  },\r\n  {\r\n    month: \"Oct\",\r\n    city: \"Tokyo\",\r\n    temperature: 18.3,\r\n  },\r\n  {\r\n    month: \"Oct\",\r\n    city: \"London\",\r\n    temperature: 10.3,\r\n  },\r\n  {\r\n    month: \"Nov\",\r\n    city: \"Tokyo\",\r\n    temperature: 13.9,\r\n  },\r\n  {\r\n    month: \"Nov\",\r\n    city: \"London\",\r\n    temperature: 6.6,\r\n  },\r\n  {\r\n    month: \"Dec\",\r\n    city: \"Tokyo\",\r\n    temperature: 9.6,\r\n  },\r\n  {\r\n    month: \"Dec\",\r\n    city: \"London\",\r\n    temperature: 4.8,\r\n  },\r\n];\r\n\r\nexport default function PolylineChart() {\r\n  return (\r\n    <Chart\r\n      scale={{ temperature: { min: 0 } }}\r\n      padding={[30, 20, 50, 40]}\r\n      autoFit\r\n      height={320}\r\n      data={data}\r\n    >\r\n      <Line\r\n        shape=\"smooth\"\r\n        position=\"month*temperature\"\r\n        color=\"city\"\r\n        label=\"temperature\"\r\n      />\r\n      <Point position=\"month*temperature\" color=\"city\" />\r\n    </Chart>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Form } from \"antd\";\r\nimport { BUTTON } from \"@/common/ItemTypes\";\r\nimport JVDragColWrapper from \"../../JVDragColWrapper\";\r\nimport PolylineChart from \"./PolylineChart\";\r\n\r\nconst FormPolylineChart = React.memo(({ vo, handleClick }) => {\r\n  const { id, name } = vo;\r\n  return (\r\n    <Form.Item id={id} name={name} onClick={handleClick}>\r\n      <PolylineChart></PolylineChart>\r\n    </Form.Item>\r\n  );\r\n});\r\n\r\nexport default React.memo(({ vo, column, moveVo, findVo }) => {\r\n  return (\r\n    <JVDragColWrapper\r\n      vo={vo}\r\n      column={column}\r\n      moveVo={moveVo}\r\n      findVo={findVo}\r\n      type={BUTTON}\r\n    >\r\n      <FormPolylineChart></FormPolylineChart>\r\n    </JVDragColWrapper>\r\n  );\r\n});\r\n","import React, { useContext, useRef, useState } from \"react\";\r\nimport { findDOMNode } from \"react-dom\";\r\nimport update from \"immutability-helper\";\r\nimport { Row } from \"antd\";\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport { AppContext, PageContext } from \"@/common/context\";\r\nimport { generateVO } from \"@/common/vo\";\r\n\r\nimport {\r\n  INPUT,\r\n  SELECT,\r\n  CHART_PIE,\r\n  CHART_POLYLINE,\r\n  RADIO,\r\n  CHECKBOX,\r\n  DATEFIELD,\r\n  INPUTNUMBER,\r\n  BUTTON,\r\n  DEFAULT_CONTAINER,\r\n  TABLE,\r\n  TAB,\r\n  MODAL,\r\n} from \"@/common/ItemTypes\";\r\nimport JVInput from \"../JVInput\";\r\nimport JVSelect from \"../JVSelect\";\r\nimport JVDateField from \"../JVDateField\";\r\nimport JVCheckbox from \"../JVCheckbox\";\r\nimport JVRadio from \"../JVRadio\";\r\nimport JVInputNumber from \"../JVInputNumber\";\r\nimport JVButton from \"../JVButton\";\r\nimport JVTable from \"../JVTable\";\r\nimport JVTab from \"../JVTab\";\r\nimport JVModal from \"../JVModal\";\r\nimport JVPieChart from \"../Charts/JVPieChart\";\r\nimport JVPolylineChart from \"../Charts/JVPolylineChart\";\r\n\r\nimport \"./index.less\";\r\n\r\nfunction DefaultContainer({ vo, findVo: findVoParent, moveVo: moveVoParent }) {\r\n  const [isMouseOver, setIsMouseOver] = useState(false); // 鼠标移动\r\n  const { setSelectedVo, updateVo } = useContext(PageContext);\r\n  const { setSelectTab } = useContext(AppContext);\r\n  const dropHandle = (item) => {\r\n    const gVo = generateVO(item);\r\n    vo.comps = update(comps, { $push: [gVo] });\r\n    updateVo(vo);\r\n    // TODO: 默认选中\r\n    if (gVo.type === MODAL) {\r\n      setSelectTab(gVo);\r\n    }\r\n  };\r\n  const [{ isDragging }, connectDrag] = useDrag({\r\n    item: { type: DEFAULT_CONTAINER, id: vo.id }, // id, originalIndex\r\n    collect: (monitor) => ({\r\n      isDragging: monitor.isDragging(),\r\n    }),\r\n  });\r\n\r\n  const { accept } = vo;\r\n  const [{ isDragOver }, connectDrop] = useDrop({\r\n    accept,\r\n    drop(item, monitor) {\r\n      const didDrop = monitor.didDrop();\r\n      if (didDrop) {\r\n        // 父节点\r\n        return;\r\n      }\r\n      if (item.isTools) {\r\n        dropHandle(item);\r\n      }\r\n      return;\r\n    },\r\n    collect: (monitor) => {\r\n      const isTools = monitor.getItem() ? monitor.getItem().isTools : false;\r\n      return {\r\n        isDragOver: monitor.isOver({ shallow: true }) && isTools,\r\n        // canDrop: monitor.canDrop(),\r\n        // itemType: monitor.getItemType(),\r\n        // item: monitor.getItem(),\r\n      };\r\n    },\r\n    hover(item) {\r\n      const draggedId = item.id;\r\n\r\n      if (findVoParent) {\r\n        if (draggedId !== vo.id) {\r\n          const { index: overIndex } = findVoParent(vo.id);\r\n          moveVoParent(draggedId, overIndex);\r\n        }\r\n      }\r\n    },\r\n  });\r\n\r\n  const moveVo = (id, atIndex) => {\r\n    const { cvo, index } = findChildVo(id);\r\n    if (index === -1) return;\r\n    const { comps } = vo;\r\n    vo.comps = update(comps, {\r\n      $splice: [\r\n        [index, 1],\r\n        [atIndex, 0, cvo],\r\n      ],\r\n    });\r\n    updateVo(vo);\r\n  };\r\n  const findChildVo = (id) => {\r\n    for (let i = 0; i < vo.comps.length; i++) {\r\n      if (id === vo.comps[i].id) {\r\n        return { cvo: vo.comps[i], index: i };\r\n      }\r\n    }\r\n\r\n    return { cvo: null, index: -1 };\r\n  };\r\n\r\n  const { column, comps } = vo;\r\n  const voComps = comps.map((vo) => {\r\n    if (vo.type === INPUT) {\r\n      return (\r\n        <JVInput\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVInput>\r\n      );\r\n    } else if (vo.type === SELECT) {\r\n      return (\r\n        <JVSelect\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVSelect>\r\n      );\r\n    } else if (vo.type === RADIO) {\r\n      return (\r\n        <JVRadio\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVRadio>\r\n      );\r\n    } else if (vo.type === CHECKBOX) {\r\n      return (\r\n        <JVCheckbox\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVCheckbox>\r\n      );\r\n    } else if (vo.type === DATEFIELD) {\r\n      return (\r\n        <JVDateField\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVDateField>\r\n      );\r\n    } else if (vo.type === CHART_PIE) {\r\n      return (\r\n        <JVPieChart\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVPieChart>\r\n      );\r\n    } else if (vo.type === CHART_POLYLINE) {\r\n      return (\r\n        <JVPolylineChart\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVPolylineChart>\r\n      );\r\n    } else if (vo.type === INPUTNUMBER) {\r\n      return (\r\n        <JVInputNumber\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVInputNumber>\r\n      );\r\n    } else if (vo.type === BUTTON) {\r\n      return (\r\n        <JVButton\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVButton>\r\n      );\r\n    } else if (vo.type === TABLE) {\r\n      return (\r\n        <JVTable\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVTable>\r\n      );\r\n    } else if (vo.type === DEFAULT_CONTAINER) {\r\n      return (\r\n        <DefaultContainer\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></DefaultContainer>\r\n      );\r\n    } else if (vo.type === TAB) {\r\n      return (\r\n        <JVTab\r\n          key={vo.id}\r\n          vo={vo}\r\n          column={column}\r\n          findVo={findChildVo}\r\n          moveVo={moveVo}\r\n        ></JVTab>\r\n      );\r\n    } else if (vo.type === MODAL) {\r\n      return (\r\n        <JVModal\r\n          key={vo.id}\r\n          vo={vo}\r\n          // column={column}\r\n          // findVo={findChildVo}\r\n          // moveVo={moveVo}\r\n        ></JVModal>\r\n      );\r\n    }\r\n    return <li>{vo.text}</li>;\r\n  });\r\n\r\n  const handleClick = (e) => {\r\n    // const faComponent = findDOMNode(ref.current);\r\n    // setIsMouseOver(faComponent === target);\r\n    if (e.target.id === vo.id) {\r\n      setSelectedVo(vo); // 设置选中项\r\n    }\r\n  };\r\n\r\n  const mouseMoveHandle = ({ target }) => {\r\n    const faComponent = findDOMNode(ref.current);\r\n    setIsMouseOver(faComponent === target);\r\n  };\r\n  const mouseOutHandle = ({ target }) => {\r\n    // const faComponent = findDOMNode(ref.current);\r\n    // if (faComponent) {\r\n    //   const isChild = faComponent.contains(target);\r\n    //   console.log(isChild)\r\n    // }\r\n    setIsMouseOver(false);\r\n  };\r\n\r\n  const ref = useRef(null);\r\n  connectDrag(connectDrop(ref));\r\n\r\n  const opacity = isDragging ? 0.3 : 1;\r\n  return (\r\n    <div\r\n      onMouseMove={mouseMoveHandle}\r\n      onMouseOut={mouseOutHandle}\r\n      ref={ref}\r\n      className=\"jv-components-default-container\"\r\n      id={vo.id}\r\n      onClick={handleClick}\r\n      style={{\r\n        border: isDragOver ? \"1px dashed red\" : \"1px dashed #ccc\",\r\n        backgroundColor: isDragging\r\n          ? \"#fa8c16\"\r\n          : isMouseOver\r\n          ? \"#e6fffb\"\r\n          : \"#fff\",\r\n        opacity,\r\n      }}\r\n    >\r\n      <Row>{voComps}</Row>\r\n    </div>\r\n  );\r\n}\r\nexport default React.memo(DefaultContainer);\r\n","import React, { useContext } from \"react\";\r\nimport DefaultContainer from \"@/components/DefaultContainer\";\r\nimport { DEFAULT_CONTAINER } from \"@/common/ItemTypes\";\r\nimport { PageContext } from \"@/common/context\";\r\n\r\nimport { Form } from \"antd\";\r\nimport \"./index.less\";\r\n\r\nexport default React.memo(({ style }) => {\r\n  const { vos } = useContext(PageContext);\r\n\r\n  const vo2Comps = vos.map((vo) => {\r\n    if (vo.type === DEFAULT_CONTAINER) {\r\n      return <DefaultContainer vo={vo} key={vo.id}></DefaultContainer>;\r\n    }\r\n    return null;\r\n  });\r\n\r\n  const onFinish = () => {};\r\n  const onFinishFailed = () => {};\r\n  return (\r\n    <div style={{ ...style, }}>\r\n      <div className=\"jv-main-container\" style={{ height: \"100%\" }}>\r\n        <h3>展示</h3>\r\n        <Form\r\n          onFinish={onFinish}\r\n          onFinishFailed={onFinishFailed}\r\n          style={{ height: \"100%\" }}\r\n        >\r\n          <div style={{ height: \"100%\", overflow: \"scroll\" }}>\r\n            {vo2Comps}\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport \"./index.less\";\r\n\r\nexport default React.memo(({ children, defaultTabId, width }) => {\r\n  const [selectTabId, setSelectedTabId] = useState(defaultTabId);\r\n\r\n  const changeSelectTab = (id) => {\r\n    if (selectTabId === id) {\r\n      setSelectedTabId(null);\r\n    } else {\r\n      setSelectedTabId(id);\r\n    }\r\n  };\r\n  const ToolLi = [];\r\n  let selectTab = null;\r\n  children &&\r\n    children.forEach((child) => {\r\n      const { title, id, icon } = child.props;\r\n\r\n      ToolLi.push(\r\n        <li\r\n          key={id}\r\n          onClick={() => {\r\n            changeSelectTab(id);\r\n          }}\r\n          style={{ backgroundColor: id === selectTabId ? \"#fff\" : \"#3a3f51\" }}\r\n        >\r\n          {icon}\r\n          {title}\r\n        </li>\r\n      );\r\n      if (id === selectTabId) {\r\n        selectTab = child;\r\n      }\r\n    });\r\n\r\n  const style = { width: selectTab ? `${width}px` : \"50px\" };\r\n  return (\r\n    <div className=\"visual-jvtab\" style={style}>\r\n      <ul>{ToolLi}</ul>\r\n      <div className=\"visual-jvtab-pane\">{selectTab}</div>\r\n    </div>\r\n  );\r\n});\r\n","import React from \"react\";\r\n\r\nexport default React.memo(({ children }) => {\r\n  return <div style={{ width: \"100%\" }}>{children}</div>;\r\n});\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AppContext } from \"@/common/context\";\r\nimport { Tree, Modal, Input, Form } from \"antd\";\r\nimport { DownOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport { TAB, MODAL, PAGE } from \"@/common/ItemTypes\";\r\nimport { TabPaneVO, PageVO } from \"@/common/vo\";\r\n\r\nexport default React.memo(() => {\r\n  const [newTabVisible, setNewTabVisible] = useState(false);\r\n  const [newTabTitle, setNewTabTitle] = useState(\"\");\r\n\r\n  const { pages, selectPage, selectTab, setSelectTab } = useContext(AppContext);\r\n\r\n  const recursiveTabNode = (dVo, pageNode) => {\r\n    if (dVo.comps && dVo.comps.length > 0) {\r\n      dVo.comps.forEach((uVo) => {\r\n        if (uVo.type === TAB) {\r\n          const tabNode = { ...uVo, key: uVo.id, children: [] };\r\n          uVo.tabs.forEach((tabVo) => {\r\n            const tabChildNode = { ...tabVo, key: tabVo.id };\r\n            tabNode.children.push(tabChildNode);\r\n          });\r\n\r\n          pageNode.children.push(tabNode);\r\n        } else if (uVo.type === MODAL) {\r\n          const tabNode = { ...uVo, key: uVo.id };\r\n          pageNode.children.push(tabNode);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const rootData = {\r\n    title: \"所有页面\",\r\n    key: \"root\",\r\n    type: \"root\",\r\n    children: [],\r\n  };\r\n  pages.forEach((page) => {\r\n    const pageNode = { ...page, key: page.pageId, children: [] };\r\n    rootData.children.push(pageNode);\r\n    if (selectPage.pageId === page.pageId) {\r\n      // TODO: 这里需要优化， 目前没有深度递归\r\n      if (page.vos && page.vos.length > 0) {\r\n        recursiveTabNode(page.vos[0], pageNode);\r\n      }\r\n    }\r\n  });\r\n  const treeData = [rootData];\r\n  const treeSelectHandle = (node) => {\r\n    setSelectTab(node);\r\n  };\r\n\r\n  const titleRenderHandle = (node) => {\r\n    if (node.type === TAB || node.type === \"root\") {\r\n      return (\r\n        <div\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n          onClick={() => {\r\n            treeSelectHandle(node);\r\n          }}\r\n        >\r\n          <span style={{ flex: 1 }}>{node.title}</span>\r\n          <PlusOutlined\r\n            style={{ width: \"20px\" }}\r\n            onClick={() => {\r\n              setNewTabVisible(true);\r\n            }}\r\n          />\r\n        </div>\r\n      );\r\n    } else if (node.pageId) {\r\n      return (\r\n        <div\r\n          onClick={() => {\r\n            treeSelectHandle(node);\r\n          }}\r\n        >\r\n          {node.title}\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div\r\n          onClick={() => {\r\n            treeSelectHandle(node);\r\n          }}\r\n        >\r\n          {node.title}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleOk = () => {\r\n    if (selectTab.type === TAB) {\r\n      const tabPaneVo = new TabPaneVO({ title: newTabTitle });\r\n      selectTab.tabs.push(tabPaneVo);\r\n      setSelectTab(tabPaneVo);\r\n    } else if (selectTab.type === \"root\") {\r\n      const pVo = new PageVO({ title: newTabTitle });\r\n      pages.push(pVo);\r\n      setSelectTab(pVo);\r\n    }\r\n    setNewTabTitle(\"\");\r\n    setNewTabVisible(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setNewTabTitle(\"\");\r\n    setNewTabVisible(false);\r\n  };\r\n\r\n  const selectedKeys =\r\n    selectTab.type === PAGE ? [selectTab.pageId] : [selectTab.id];\r\n  return (\r\n    <div style={{ padding: \"10px 0 0 0\" }}>\r\n      <Tree\r\n        showLine\r\n        blockNode\r\n        defaultExpandAll\r\n        switcherIcon={<DownOutlined />}\r\n        treeData={treeData}\r\n        selectedKeys={selectedKeys}\r\n        titleRender={titleRenderHandle}\r\n      />\r\n      {/* TODO：仅处理了Tab */}\r\n      <Modal\r\n        title=\"新建\"\r\n        visible={newTabVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n      >\r\n        <Form.Item label=\"请输入名字\">\r\n          <Input\r\n            value={newTabTitle}\r\n            onChange={(e) => {\r\n              setNewTabTitle(e.target.value);\r\n            }}\r\n          ></Input>\r\n        </Form.Item>\r\n      </Modal>\r\n    </div>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\nimport { ExpandOutlined } from \"@ant-design/icons\";\r\n\r\nimport \"./index.less\";\r\n\r\nconst DragLi = ({ tool }) => {\r\n  const { id, label, itemType, Icon } = tool;\r\n  const [, drag] = useDrag({\r\n    item: { ...tool, type: itemType, id, isTools: true }, // tools 标识从工具面板拖出\r\n  });\r\n  return (\r\n    <li ref={drag} key={id}>\r\n      {Icon ? (\r\n        <Icon style={{ color: \"#1890ff\", fontSize: 16 }}></Icon>\r\n      ) : (\r\n        <ExpandOutlined style={{ color: \"#1890ff\", fontSize: 16 }} />\r\n      )}\r\n      <h5>{label}</h5>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default React.memo(({ tools })=> {\r\n  const toolsComp = tools.map((tool) => {\r\n    return <DragLi tool={tool} key={tool.id}></DragLi>;\r\n  });\r\n  return <ul className=\"jv-comp-tool-tool-container\">{toolsComp}</ul>;\r\n});\r\n","import React from \"react\";\r\nimport ToolsContainer from \"./ToolsContainer\";\r\nimport { DEFAULT_CONTAINER } from \"@/common/ItemTypes\";\r\n\r\nconst TOOLS_DATA = [\r\n  { id: \"jvc-1\", label: \"单栏\", itemType: DEFAULT_CONTAINER, column: 1 },\r\n  { id: \"jvc-2\", label: \"双栏\", itemType: DEFAULT_CONTAINER, column: 2 },\r\n  { id: \"jvc-3\", label: \"三栏\", itemType: DEFAULT_CONTAINER, column: 3 },\r\n];\r\nexport default React.memo(() => {\r\n  return (\r\n    <div>\r\n      <ToolsContainer tools={TOOLS_DATA}></ToolsContainer>\r\n    </div>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport ToolsContainer from \"./ToolsContainer\";\r\n\r\nimport {\r\n  INPUT,\r\n  SELECT,\r\n  RADIO,\r\n  CHECKBOX,\r\n  DATEFIELD,\r\n  INPUTNUMBER,\r\n  BUTTON,\r\n  TABLE,\r\n  TAB,\r\n  MODAL,\r\n} from \"@/common/ItemTypes\";\r\n\r\nconst TOOLS_DATA = [\r\n  { id: \"jvcc-1\", label: \"输入框\", itemType: INPUT },\r\n  { id: \"jvcc-2\", label: \"选择框\", itemType: SELECT },\r\n  { id: \"jvcc-3\", label: \"单选框\", itemType: RADIO },\r\n  { id: \"jvcc-4\", label: \"复选框\", itemType: CHECKBOX },\r\n  { id: \"jvcc-5\", label: \"日期\", itemType: DATEFIELD },\r\n  { id: \"jvcc-6\", label: \"数字\", itemType: INPUTNUMBER },\r\n  { id: \"jvcc-7\", label: \"按钮\", itemType: BUTTON },\r\n  { id: \"jvcc-8\", label: \"表格\", itemType: TABLE },\r\n  { id: \"jvcc-9\", label: \"Tab\", itemType: TAB },\r\n  { id: \"jvcc-10\", label: \"Modal\", itemType: MODAL },\r\n];\r\n\r\nexport default React.memo(() => {\r\n  return <ToolsContainer tools={TOOLS_DATA}></ToolsContainer>;\r\n});\r\n","import React from \"react\";\r\nimport ToolsContainer from \"./ToolsContainer\";\r\nimport { PieChartOutlined, LineChartOutlined } from \"@ant-design/icons\";\r\n\r\nimport { CHART_PIE, CHART_POLYLINE } from \"@/common/ItemTypes\";\r\n\r\nconst TOOLS_DATA = [\r\n  {\r\n    id: \"jvchart-1\",\r\n    label: \"饼图\",\r\n    itemType: CHART_PIE,\r\n    Icon: PieChartOutlined,\r\n  },\r\n  {\r\n    id: \"jvchart-2\",\r\n    label: \"折线图\",\r\n    itemType: CHART_POLYLINE,\r\n    Icon: LineChartOutlined,\r\n  },\r\n];\r\n\r\nexport default React.memo(() => {\r\n  return (\r\n    <ToolsContainer tools={TOOLS_DATA}></ToolsContainer>\r\n  );\r\n});\r\n","import React from \"react\";\r\n\r\nimport JVContainerTools from \"./JVContainerTools\";\r\nimport JVComponentTools from \"./JVComponentTools\";\r\nimport JVChartTools from \"./JVChartTools\";\r\nimport \"./index.less\";\r\n\r\nimport { Collapse } from \"antd\";\r\nconst { Panel } = Collapse;\r\n\r\nexport default React.memo(({ style }) => {\r\n  return (\r\n    <div style={style} className=\"jv-comp-tool-container\">\r\n      <Collapse defaultActiveKey={[\"p-1\", \"p-2\", \"p-3\"]}>\r\n        <Panel header=\"容器\" key=\"p-1\">\r\n          <JVContainerTools></JVContainerTools>\r\n        </Panel>\r\n        <Panel header=\"组件\" key=\"p-2\">\r\n          <JVComponentTools></JVComponentTools>\r\n        </Panel>\r\n        <Panel header=\"图表\" key=\"p-3\">\r\n          <JVChartTools></JVChartTools>\r\n        </Panel>\r\n      </Collapse>\r\n    </div>\r\n  );\r\n});\r\n","import React from \"react\";\r\nimport \"./index.less\";\r\nimport JVToolTab from \"@/components/JVToolTab\";\r\nimport JVToolTabPane from \"@/components/JVToolTab/JVToolTabPane\";\r\nimport { PicRightOutlined, AppstoreAddOutlined } from \"@ant-design/icons\";\r\nimport Outline from \"./Outline\";\r\nimport JVCompTool from \"./JVCompTool\";\r\n\r\n\r\nexport default React.memo(() => {\r\n  return (\r\n    <JVToolTab width={280} defaultTabId=\"tab-1\">\r\n      <JVToolTabPane\r\n        title=\"大纲\"\r\n        id=\"tab-1\"\r\n        icon={<PicRightOutlined style={{ fontSize: \"20px\" }} />}\r\n      >\r\n        <Outline></Outline>\r\n      </JVToolTabPane>\r\n      <JVToolTabPane\r\n        title=\"组件\"\r\n        id=\"tab-2\"\r\n        icon={<AppstoreAddOutlined style={{ fontSize: \"20px\" }} />}\r\n      >\r\n        <JVCompTool></JVCompTool>\r\n      </JVToolTabPane>\r\n    </JVToolTab>\r\n  );\r\n});\r\n","import React, { useContext } from \"react\";\r\nimport { Form, Input } from \"antd\";\r\nimport { PageContext } from \"@/common/context\";\r\n\r\n// 过滤属性\r\nconst FILTER_ATT = [\"id\", \"type\"];\r\n\r\nexport default React.memo(() => {\r\n  const { selectedVo, changeVoAttValue } = useContext(PageContext);\r\n  const attComps = [];\r\n\r\n  const attChangeAtt = (val, key) => {\r\n    selectedVo[key] = val;\r\n    changeVoAttValue(selectedVo);\r\n  };\r\n\r\n  for (const key in selectedVo) {\r\n    // 过滤类型。TODO：未来特殊类型需要优化\r\n    if (\r\n      typeof selectedVo[key] === \"string\" ||\r\n      typeof selectedVo[key] === \"number\" ||\r\n      typeof selectedVo[key] === \"undefined\"\r\n    ) {\r\n      if (FILTER_ATT.filter((fKey) => fKey === key).length > 0) {\r\n        // 过滤字段\r\n        continue;\r\n      }\r\n      attComps.push(\r\n        <Form.Item label={key} key={key}>\r\n          <Input\r\n            value={selectedVo[key]}\r\n            onChange={(e) => {\r\n              attChangeAtt(e.target.value, key);\r\n            }}\r\n          ></Input>\r\n        </Form.Item>\r\n      );\r\n    }\r\n  }\r\n  return <div className=\"jv-right-tool-tool-att\">{attComps}</div>;\r\n});\r\n","import React from \"react\";\r\nimport JVToolTab from \"@/components/JVToolTab\";\r\nimport JVToolTabPane from \"@/components/JVToolTab/JVToolTabPane\";\r\nimport { SettingOutlined } from \"@ant-design/icons\";\r\nimport JVAttTools from \"./JVAttTools\";\r\n\r\nimport \"./index.less\";\r\n\r\nexport default React.memo(() => {\r\n  return (\r\n    <JVToolTab width={350}>\r\n      <JVToolTabPane\r\n        title=\"设置\"\r\n        id=\"tab-1\"\r\n        icon={<SettingOutlined style={{ fontSize: \"20px\" }} />}\r\n      >\r\n        <JVAttTools></JVAttTools>\r\n      </JVToolTabPane>\r\n      <JVToolTabPane\r\n        title=\"1111\"\r\n        id=\"tab-3\"\r\n        icon={<SettingOutlined style={{ fontSize: \"20px\" }} />}\r\n      >\r\n        fdafdaf\r\n      </JVToolTabPane>\r\n    </JVToolTab>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport update from \"immutability-helper\";\r\n// import _ from \"lodash\";\r\nimport JVMain from \"./JVMain\";\r\nimport JVLeftTool from \"./JVLeftTool\";\r\nimport JVRightTool from \"./JVRightTool\";\r\nimport { PageContext } from \"@/common/context\";\r\n\r\nimport \"./index.less\";\r\n\r\n/**\r\n * JV visual Visual\r\n */\r\nexport default React.memo(({ pVo }) => {\r\n  const { vos: initVos, pageId, title: pageTitle } = pVo;\r\n  const vo_id_map = {};\r\n  const [vos, setVos] = useState(initVos);\r\n  const [selectedVo, setSelectedVo] = useState({});\r\n\r\n  const setVosHandle = (vos) => {\r\n    setVos(vos);\r\n    vos.forEach((vo) => {\r\n      vo_id_map[vo.id] = vo;\r\n    });\r\n  };\r\n  const changeVoAttValue = (vo) => {\r\n    const newVo = Object.assign({}, vo);\r\n    setSelectedVo(newVo);\r\n    updateVo(newVo);\r\n  };\r\n\r\n  const updateVo = (vo) => {\r\n    let obj = { comps: [...vos] };\r\n    recursiveUpdateVo(obj, vo);\r\n    setVos(obj.comps);\r\n  };\r\n\r\n  // const updateVo = useCallback(\r\n  //   // _.throttle((vo) => {\r\n  //   //   console.log('updatevo')\r\n  //   //   let obj = { comps: vos };\r\n  //   //   recursiveUpdateVo(obj, vo);\r\n  //   //   setVos(obj.comps);\r\n  //   // }, 200),\r\n  //   (vo) => {\r\n  //     console.log(\"updatevo\", vos);\r\n  //     let obj = { comps: vos };\r\n  //     recursiveUpdateVo(obj, vo);\r\n  //     setVos(obj.comps);\r\n  //   },\r\n  //   []\r\n  // );\r\n  const recursiveUpdateVo = (obj, vo) => {\r\n    for (let i = 0; i < obj.comps.length; i++) {\r\n      if (vo.id === obj.comps[i].id) {\r\n        obj.comps = update(obj.comps, {\r\n          $splice: [\r\n            // [index, 1],\r\n            [i, 1, vo],\r\n          ],\r\n        });\r\n        return;\r\n      }\r\n      if (obj.comps[i].hasOwnProperty(\"comps\")) {\r\n        return recursiveUpdateVo(obj.comps[i], vo);\r\n      }\r\n    }\r\n  };\r\n\r\n  const setSelectedVoHandle = (vo) => {\r\n    setSelectedVo(vo);\r\n  };\r\n\r\n  return (\r\n    <div className=\"visual-visual-container\">\r\n      <div className=\"visual-visual-nav\">\r\n        <span>React 可视化设计工具</span>\r\n      </div>\r\n      <div className=\"visual-visual-edit\">\r\n        <PageContext.Provider\r\n          value={{\r\n            vos,\r\n            setVos: setVosHandle,\r\n            selectedVo,\r\n            setSelectedVo: setSelectedVoHandle,\r\n            changeVoAttValue,\r\n            updateVo,\r\n            pageId: pageId,\r\n            pageName: pageTitle,\r\n          }}\r\n        >\r\n          <JVLeftTool></JVLeftTool>\r\n          <JVMain style={{ flex: 1 }}></JVMain>\r\n          <JVRightTool></JVRightTool>\r\n        </PageContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState } from \"react\";\r\nimport JVEdit from \"./pages/JVEdit\";\r\nimport { AppVO, PageVO, DefaultContainerVO } from \"@/common/vo\";\r\nimport { AppContext } from \"@/common/context\";\r\n\r\nimport { PAGE, ACCEPT_ALL } from \"@/common/ItemTypes\";\r\n\r\nconst mockData = () => {\r\n  const dVo1 = new DefaultContainerVO({ accept: ACCEPT_ALL });\r\n  const pVo1 = new PageVO({ vos: [dVo1] });\r\n\r\n  const dVo2 = new DefaultContainerVO({ accept: ACCEPT_ALL });\r\n  const pVo2 = new PageVO({ vos: [dVo2] });\r\n\r\n  const aVo = new AppVO({ pages: [pVo1, pVo2] });\r\n  return aVo;\r\n};\r\n\r\nconst appVo = mockData();\r\n\r\nexport default React.memo(() => {\r\n  const { appId, pages } = appVo;\r\n  const defaultSelectPage = pages && pages[0];\r\n\r\n  const [selectPage, setSelectPage] = useState(defaultSelectPage);\r\n  const [selectTab, setSelectTab] = useState(defaultSelectPage);\r\n\r\n  const selectPageCom = pages.map((pVo) => {\r\n    if (pVo.pageId === selectPage.pageId) {\r\n      return <JVEdit key={pVo.pageId} pVo={pVo}></JVEdit>;\r\n    }\r\n    return null;\r\n  });\r\n\r\n  const selSelectTabHandle = (vo) => {\r\n    if (vo.type === PAGE) {\r\n      setSelectPage(vo);\r\n      setSelectTab(vo);\r\n    } else {\r\n      setSelectTab(vo);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        appId,\r\n        pages,\r\n        selectPage,\r\n        selectTab,\r\n        setSelectTab: selSelectTabHandle,\r\n      }}\r\n    >\r\n      {selectPageCom}\r\n    </AppContext.Provider>\r\n  );\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { Switch, Route, HashRouter } from \"react-router-dom\";\r\nimport JVLogin from \"./pages/JVLogin\";\r\nimport JVProduct from \"./pages/JVProduct\";\r\n\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DndProvider backend={HTML5Backend}>\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route path=\"/login\" component={JVLogin} />\r\n          <Route path=\"/product\" component={JVProduct} />\r\n          <Route path=\"/\" component={App} />\r\n          {/* <Redirect from=\"/*\" to=\"/edit\" /> */}\r\n        </Switch>\r\n      </HashRouter>\r\n    </DndProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}